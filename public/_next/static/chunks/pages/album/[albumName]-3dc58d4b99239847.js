(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[387],{3441:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/album/[albumName]",function(){return t(9943)}])},4461:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});var r=t(5893);function s(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100vw"},children:(0,r.jsx)("h1",{className:"text-[9vw] text-slate-800",children:"LOADING..."})})})}},9943:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return _}});var r=t(5893),s=t(1664),n=t.n(s),l=t(7568),i=t(1799),c=t(9396),o=t(4051),d=t.n(o),m=t(1163),u=t(7294),x=t(9669),h=t.n(x),p=t(4461);function f(e){var a=e.artworkUrl,t=e.releaseYear,s=e.albumName,n=e.trackName,l=e.artistName,i=e.trackNumber,c=e.trackDuration,o=e.pxaUrl,d=e.spotifyUrl,m=e.albumDuration,u=e.genre,x=e.handleFlip;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"rounded-bl-lg rounded-tl-lg card__face card__face--front",children:[(0,r.jsxs)("div",{className:"h-56 p-0",style:{backgroundImage:"url(".concat(a,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",borderRadius:"0% 0% 100% 0%"},children:[(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("div",{className:"mt-2 mr-5",children:(0,r.jsx)("span",{className:"overline tracking-wide font-semibold text-xs text-[#f7f7f7]",children:u})})}),(0,r.jsx)("div",{className:"h-full flex justify-center items-end -mt-10",children:(0,r.jsx)("a",{onClick:x,children:(0,r.jsx)("img",{className:"cursor-pointer h-[50px]",src:"../finger-print.svg",alt:"finger-print"})})})]}),(0,r.jsxs)("div",{className:"p-4 bg-[#f3f3f3] text-right",children:[(0,r.jsx)("p",{className:"text-slate-900",children:n.length>=30?"".concat(n.substring(0,25),"..."):n}),(0,r.jsx)("p",{className:"mt-[1.75px] text-slate-400",children:l}),(0,r.jsxs)("p",{className:"uppercase text-xs mt-1 sm:text-sm tracking-wide",children:[(0,r.jsx)("span",{className:"text-slate-400",children:t})," \u2022"," ",(0,r.jsx)("span",{className:"text-slate-700",children:s})]})]}),(0,r.jsxs)("div",{className:"flex border-t border-gray-300 text-xs sm:text-sm bg-[#f6f6f6]",children:[(0,r.jsxs)("div",{className:"p-2 flex-2 inline-flex items-center justify-center",children:[(0,r.jsx)("img",{className:"ml-3 h-8 w-8 text-slate-600 fill-current mr-3",src:"../album.svg",alt:"album"}),(0,r.jsxs)("p",{className:"mr-6 sm:ml-1",children:[(0,r.jsx)("span",{className:"text-slate-400 mr-1",children:"Track"})," ",(0,r.jsx)("span",{className:"text-slate-900 font-bold",children:i})]})]}),(0,r.jsxs)("div",{className:"pl-0 flex-1 border-l border-dashed border-slate-300 inline-flex items-center justify-center",children:[(0,r.jsxs)("p",{className:"ml-0 sm:ml-0",children:[(0,r.jsx)("span",{className:"text-slate-400 mr-1",children:"Time"})," ",(0,r.jsx)("span",{className:"text-slate-900 tracking-wide font-bold",children:c.toFixed(2)})]}),(0,r.jsx)("img",{className:"h-6 w-6 ml-4 sm:h-8 md:w-8 text-slate-600 mr-0",src:"../filter.svg",alt:"filter"})]})]}),(0,r.jsxs)("div",{className:"pt-3 border-t border-dashed border-slate-400 bg-[#f7f7f7]",children:[(0,r.jsx)("div",{className:"pl-4 text-xs uppercase font-bold text-slate-500 tracking-wide",children:(0,r.jsx)("a",{href:d,target:"_blank",children:"Listen now on:"})}),(0,r.jsxs)("div",{className:"h-16 flex items-center pt-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 ml-4 mb-4 bg-cover bg-center rounded-full",children:(0,r.jsx)("a",{href:d,target:"_blank",children:(0,r.jsx)("img",{className:"h-[40px]",src:"../spotify-logo.svg",alt:"spot"})})}),(0,r.jsxs)("div",{className:"mb-4 ml-4",children:[(0,r.jsx)("p",{className:"text-slate-600 -mt-0.5 mb-[0.75px]",children:(0,r.jsx)("a",{href:d,target:"_blank",children:"Spotify"})}),(0,r.jsxs)("p",{className:"text-xs text-slate-700",children:[(0,r.jsx)("span",{className:"tracking-wide text-slate-400",children:"Album Runtime"}),(0,r.jsx)("span",{className:"ml-2 font-bold tracking-wide md:text-sm bg-[#f7f7f7]",children:m.toFixed(2)})]})]})]}),(0,r.jsx)("div",{style:{height:50,width:50,position:"absolute",bottom:20,right:25,boxShadow:"rgba(0, 0, 0, 0.18) 0px 1px 1px"},children:(0,r.jsx)("a",{href:d,target:"_blank",children:(0,r.jsx)("img",{src:o||"https://mvmpxa.olk1.com/pxa.gif",alt:"Pixel Art"})})})]})]})})}var b=t(5376);t(1877);function g(e){var a=e.chartData,t=e.options;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(b.x1,{data:a,options:t})})}function j(e){var a=e.chartData,t=e.options;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(b.$Q,{data:a,options:t})})}function N(e){var a=e.chartData,t=e.options;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(b.xj,{data:a,options:t})})}function v(e){var a=e.handleClick,t=e.albumName,s=e.artworkUrl,l=e.trackName,i=e.artistName,c=e.artistAvatar;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"absolute top-4 left-0 bg-[#9efddc] bottom-0 p-[2rem] flex flex-col",style:{backgroundPosition:"center bottom",backgroundRepeat:"no-repeat",backgroundSize:"50px 50px",borderRadius:"0% 20% 20% 20%"},children:[(0,r.jsx)(n(),{href:"/datatable",children:(0,r.jsx)("a",{children:(0,r.jsx)("p",{className:"album-name mt-4 text-[#111] mb-3 text-center",children:t})})}),(0,r.jsx)("a",{onClick:a,children:(0,r.jsx)("img",{className:"cursor-pointer album-art block",src:s,alt:l})}),(0,r.jsx)(n(),{href:"/docs",children:(0,r.jsx)("a",{children:(0,r.jsxs)("p",{className:"artist-name text-[#111] mt-2.5 text-center",children:["by ",i]})})}),(0,r.jsx)("div",{style:{height:50,width:50,position:"absolute",bottom:0,right:"calc(50% - 25px)",boxShadow:"rgba(0, 0, 0, 0.18) 0px 1px 1px"},children:(0,r.jsx)("a",{href:"https://github.com/matthewviamusic",target:"_blank",children:(0,r.jsx)("img",{src:c,alt:c})})})]})})}function k(e){var a=e.handleFlip,t=e.musicStatsData,s=e.artworkUrl,l=e.albumName,i=e.trackName,c=e.artistName,o=e.artistAvatar,d=(0,u.useState)(!0),m=d[0],x=d[1],h=function(e){x((function(e){return!e}))},p={labels:t.map((function(e){return e.day})),datasets:[{label:"Streams",data:t.map((function(e){return e.streams})),fill:!1,backgroundColor:["#ff8a7b","#124777","#9acdc2","#ffd7a3","#548b7e"],tension:.1}]},f={labels:t.map((function(e){return e.perc_change})),datasets:[{label:"Percentage Change",data:t.map((function(e){return e.perc_change})),backgroundColor:["#ff8a7b","#124777","#9acdc2","#ffd7a3","#548b7e","#f782c2","#d527b7"],fill:!1,borderWidth:1,borderColor:"rgb(255, 255, 192)",borderCapStyle:"butt",drawOnChartArea:!0,pointBorderWidth:0,pointHoverRadius:1,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:1,pointRadius:4,tension:.5}]},b={labels:t.map((function(e){return e.day})),datasets:[{label:"Listeners",data:t.map((function(e){return e.listeners})),fill:!1,borderWidth:1,backgroundColor:"green",borderColor:"rgb(75, 192, 192)",borderCapStyle:"butt",borderDash:[15,5],drawOnChartArea:!1,borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:5,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:1,tension:.1}]},k={plugins:{legend:{display:!0,labels:{color:"grey",font:{size:14},boxWidth:0}}}};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"card__face card__face--back",children:(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)("div",{className:"z-10 bg-[#111] w-full text-white text-xs italic cursor-pointer",children:[(0,r.jsx)("a",{onClick:a,children:(0,r.jsx)("p",{className:"absolute top-0 left-0 px-2 py-[1px]",children:"FLIP!"})}),(0,r.jsx)(n(),{href:"/search",children:(0,r.jsx)("a",{children:(0,r.jsx)("p",{className:"absolute top-0 right-0 px-2 py-[1px]",children:"Search Catalogue"})})})]}),m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{onClick:h,className:"mt-1 cursor-pointer w-full",children:(0,r.jsx)(j,{chartData:p,options:k})}),(0,r.jsx)("a",{onClick:h,children:(0,r.jsx)("div",{className:"cursor-pointer w-full",children:(0,r.jsx)(N,{chartData:f,options:k})})}),(0,r.jsx)("div",{onClick:h,className:"cursor-pointer w-full",children:(0,r.jsx)(g,{chartData:b,options:k})})]}):(0,r.jsx)(v,{handleClick:h,albumName:l,artworkUrl:s,trackName:i,artistName:c,artistAvatar:o})]})})})}function w(e){var a=e.artworkUrl,t=e.releaseYear,s=e.albumName,n=e.trackName,l=e.artistName,i=e.trackNumber,c=e.trackDuration,o=e.artistAvatar,d=e.pxaUrl,m=e.spotifyUrl,x=e.genre,h=e.albumDuration,p=e.musicStatsData,b=(0,u.useState)(!1),g=b[0],j=b[1],N=function(){j((function(e){return!e}))};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"my-1 md:my-0 w-[335px] h-[470px] font-mono tracking-tight overflow-hidden",children:(0,r.jsxs)("div",{className:"card__inner"+(g?" is-flipped":""),children:[(0,r.jsx)(f,{handleFlip:N,artworkUrl:a,releaseYear:t,albumName:s,trackName:n,artistName:l,trackNumber:i,trackDuration:c,pxaUrl:d,spotifyUrl:m,albumDuration:h,genre:x}),(0,r.jsx)(k,{artworkUrl:a,albumName:s,trackName:n,artistName:l,musicStatsData:p,artistAvatar:o,handleFlip:N})]})})})}function y(){var e=(0,m.useRouter)().query,a=(0,u.useState)(!0),t=a[0],s=a[1],n=(0,u.useState)(null),o=n[0],x=n[1],f=(0,u.useState)(null),b=f[0],g=f[1],j=(0,u.useState)(null),N=j[0],v=j[1],k=function(){var a=(0,l.Z)(d().mark((function a(){var t,r,n,l,i;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,h().get("".concat("https://matthewviamusic.com/api/tracks/"));case 3:return r=a.sent,a.next=6,h().get("".concat("https://matthewviamusic.com/api/stats/"));case 6:return n=a.sent,a.next=9,h().get("".concat("https://matthewviamusic.com/api/pxa"));case 9:l=a.sent,i=null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.filter((function(a){var t;return a.albumName===(null===e||void 0===e||null===(t=e.albumName)||void 0===t?void 0:t.split("+").join(" "))})),x(i),g(n.data),v(l.data),s(!1);case 15:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();(0,u.useEffect)((function(){k()}),[e.albumName]);for(var y,_,C=(_="pxaUrl",null===(y=N)||void 0===y?void 0:y.map((function(e){return e[_]}))),D=[],U=0;U<(null===o||void 0===o?void 0:o.length);U++)D.push((0,c.Z)((0,i.Z)({},o[U]),{pxaUrl:C[U]}));return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"my-0 flex align-center justify-center",children:(0,r.jsx)("div",{className:"select-none grid md:m-2 md:gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 grid-flow-row",children:t?(0,r.jsx)(p.Z,{}):D.map((function(e){return(0,r.jsx)(w,{artworkUrl:e.artworkUrl,releaseYear:e.releaseYear,albumName:e.albumName,trackName:e.trackName,artistName:e.artistName,trackNumber:e.trackNumber,trackDuration:e.trackDuration,artistAvatar:e.artistAvatar,pxaUrl:e.pxaUrl,spotifyUrl:e.spotifyUrl,albumDuration:e.albumDuration,genre:e.genre,musicStatsData:b},e.trackName)}))})})})}function _(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"text-center w-full",children:(0,r.jsx)(n(),{href:"/albums",children:"\u2191 Albums"})}),(0,r.jsx)(y,{})]})}}},function(e){e.O(0,[570,664,217,889,774,888,179],(function(){return a=3441,e(e.s=a);var a}));var a=e.O();_N_E=a}]);